<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Bitcoin & Crypto Dashboard</title>
  </head>

  <!-- Google Analytics -->
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PZRN3MSEKH"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-PZRN3MSEKH');
  </script>

  <body>
    <header>
      <h1>Bitcoin Dashboard</h1>
      <p class="my-contact"><b>Contact:</b> Twitter <a href="https://twitter.com/crypto_blocky" target="_blank">@crypto_blocky</a></p> 
    </header>

    <main>
      <!-- ************************
      * LATEST BITCOIN PRICE
      ***************************** -->
      <section>
        <div class="my-title">Latest Bitcoin Price (USD)</div>
        <div class="my-index" id="btc-price"></div>
        <div class="" id="last-updated"></div>
  
        <p></p>
        <div class="my-subtitle">BTC Price History</div>
        <button class="collapsible">Show</button>
        <div class="content">
          Bitcoin gains (or loses) if you bought exactly X years ago and held. 
            
          <p>
            This doesn't take into consideration dollar cost averaging. 
            Use as a rough guide to provde a simple scenario based on actual prices.
          </p>
          
          <div id="btc-prices"></div>
        </div>
        
        <div class="my-credits">Data provided by <a href="https://coinbase.com/" target="_blank">Coinbase.com</a></div>  
      </section>
      

      <!-- ************************
      TTM - To The Moon index
      Composite CBBI index + FEAR & GREED index
      ***************************** -->
      <section>
        <div class="my-title">TTM - To The Moon Index</div>
        <div class="my-subtitle">(CBBI + FNG) weighted average composite index</div>

        <!-- shows the composite index, id is updated by JavaScript -->
        <div class="my-index" id="composite-index"></div>
        <br>
        <label for="weight-slider"><b>Weight of CBBI to FNG:</b></label>
        <br>
        <input type="range" class="TTM-slider" id="weight-slider" name="weight-slider" min="0" max="100" value="80">
        <div id="ratio"></div>

        <p>
          CBBI (Collin's Bitcoin Bull Run) index is a longer cycle index. FNG (Fear & Greed index) follows shorter weekly to monthly cycles. 
        </p>
        <p>
          You may want to focus on a higher weighting to the longer cycle CBBI, due to the majical power of Bitcoin halving.
          Hence the default 80/20 weighting.
        </p>
        
        <p class="my-credits">CBBI data provided by <a href="https://colintalkscrypto.com/cbbi/" target="_blank">Colin Talks Crypto</a>. FNG data provided by <a href="https://alternative.me/crypto/fear-and-greed-index/" target="_blank">Alternative.me</a>.</p>
      </section>


      <!-- ************************
      * Bitcoin Halving Estimate
      ***************************** -->
      <section>
        <div class="my-title">Bitcoin Halving Estimate</div>
        <div class="" id="bitcoin-halving-result"></div>
        <p>
          Halving estimated based on # of blocks remaining until the next Bitcoin halving and a 10 min average block time.
        </p>
        <p>
          Historically a halving event is an early indicator of an upcoming major bull run. Reminder, history is not always the best predictor of the future.
        </p>
      </section>


      <!-- ************************
      * CBBI INDEX 
      ***************************** -->
      <section>
        <div class="my-title">CBBI - Colin's Bitcoin Bull Run Index</div>

        <!-- shows the CBBI, id is updated by JavaScript -->
        <div class="my-index" id="colins-btc-bullrun-index"></div>

        <p class="my-credits">Data provided by <a href="https://colintalkscrypto.com/cbbi/" target="_blank">Colin Talks Crypto</a>.</p>
      </section>

      
      <!-- ************************
      * FEAR & GREED INDEX 
      ***************************** -->
      <section>
        <div class="my-title">Fear & Greed Index</div>
      
        <!-- shows the Fear & Greed index, id is updated by JavaScript -->
        <div class="my-index" id="fear-n-greed-index"></div>
  
        <img class="FNG-pic" src="https://alternative.me/crypto/fear-and-greed-index.png" alt="Latest Crypto Fear & Greed Index" />
  
        <p class="my-credits">Data provided by <a href="https://alternative.me/crypto/fear-and-greed-index/" target="_blank">Alternative.me</a></p>
      </section>

    </main>

    <footer class="my-footer">
      <hr>
      <p class=""><b>Contact:</b> Twitter <a href="https://twitter.com/crypto_blocky" target="_blank">@crypto_blocky</a></p>
      <p>&copy; 2023 Ape Sack</p>
    </footer>

    <!-- Load JavaScript after all HTML / DOM elements are loaded. -->
    <!-- <script src="bitcoin-dash.js"></script> -->
    <script src="bitcoin-dash.min.js"></script>


    <!-- Expand / collapse UI -->
    <script>
      function CollapsibleUI() {
        const coll = document.getElementsByClassName("collapsible");
  
        var i;
        for (i = 0; i < coll.length; i++) {
  
          var column = coll[i];
  
          coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
  
            var content = this.nextElementSibling;
  
            if (content.style.maxHeight){
              content.style.maxHeight = null;
              column.innerHTML = "Show";
            } else {
              content.style.maxHeight = content.scrollHeight + "px";
              column.innerHTML = "Hide";
            } // else if

          }); // callback
        } // for
      } // CollapsibleUI()

      CollapsibleUI();
    </script>

  </body>
</html>
